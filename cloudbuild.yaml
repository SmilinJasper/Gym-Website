steps:

# Install Dependencies

- name: 'gcr.io/cloud-builders/npm:current'
  entrypoint: npm
  args: ['-v']

# Install Dependencies

- name: 'gcr.io/cloud-builders/npm:current'
  entrypoint: npm
  args: ['install']

# Build App

- name: 'gcr.io/cloud-builders/npm'
  entrypoint: npm
  args: ['run', 'build']

# Deploy App to Google Cloud

- name: 'gcr.io/cloud-builders/gcloud'
  entrypoint: npm
  args: ['app', 'deploy']

# Store Logs Only in Cloud

options:
  logging: CLOUD_LOGGING_ONLY